@page "/skill/edit"
@page "/skill/edit/{ID:int}"

@using Team12.Data
@using Microsoft.EntityFrameworkCore
@inject ISkillService _skillService

@if (_skill.ID == null)
{
    <label for="InputSkillname">Skillname</label>
    <input type="text" class="form-control" id="InputSkillname" aria-describedby="Inputskillname" placeholder="Skillname"/>
}
else
{
    <label for="InputSkillname">Skillname</label>
    <input type="text" class="form-control" id="InputSkillname" aria-describedby="Inputskillname" placeholder="@_skillService.GetSkill((int) _skill.ID)/>
}

<EditForm Model="@_skill" OnValidSubmit="@HandleValidSubmit">
    <div class="form-group">
        <label for="">Skilltyp</label>
        <select class="form-control" @bind="_skill.type">
            @foreach (var type in Enum.GetValues(typeof(Skilltype)))
            {
                <option value="@type">
                    @type
                </option>
            }
        </select>

    </div>
    <a href="/skill/index">
        <button type="submit">Submit</button>
    </a>
</EditForm>



@code{
    Skill _skill = new Skill();
    
    private void HandleValidSubmit()
    {
        _skillService.UpdateSkill(_skill);
    }
}