@page "/TreeDiagramm"

@using AVATI.Data
@inject IHardskillService _hardskillService
<h3>TreeDiagramm</h3>

@foreach (Hardskill hardskillcat in _hardskillService.GetAllHardskillCategorys())
{
    @if (hardskillcat.IsRoot())
    {
        <EditTreeElement Hardskills ="@(new List<Hardskill>(){ hardskillcat })"/>
    }
}

<ul class="tree">
  <li><a>Parent 1</a></li>
  <li><a>Parent 2</a></li>
  <li> <a>Parent 3</a>
    <ul>
      <li> <a>1st Child of 3</a>
        <ul>
          <li><a>1st grandchild</a></li>
          <li><a>2nd grandchild</a></li>
        </ul>
      </li>
      <li><a>2nd Child of 3</a></li>
      <li><a>3rd Child of 3</a></li>
    </ul>
  </li>
  <li> <a>Parent 4</a>
    <ul>
      <li><a>Parent 4's only child</a></li>
    </ul>
  </li>
</ul>

<ContextMenu Id="myMenu">
    <Item OnClick="@OnClick">Item 1</Item>
    <Item OnClick="@OnClick">Item 2</Item>
    <Item OnClick="@OnClick" Enabled="false">Item 3 (disabled)</Item>
    <Seperator />
    <Item>Submenu
        <SubMenu>
            <Item OnClick="@OnClick">Submenu Item 1</Item>
            <Item OnClick="@OnClick">Submenu Item 2</Item>
        </SubMenu>
    </Item>
</ContextMenu>

<ContextMenuTrigger MenuId="myMenu">
    <p>Right-click on me to show the context menu !!</p>
</ContextMenuTrigger>

@code {
    void OnClick(ItemClickEventArgs e)
    {
        Console.WriteLine($"Item Clicked => Menu: {e.ContextMenuId}, MenuTarget: {e.ContextMenuTargetId}, IsCanceled: {e.IsCanceled}, MenuItem: {e.MenuItemElement}, MouseEvent: {e.MouseEvent}");
    }
}